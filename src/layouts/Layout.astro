---
import "../styles/global.css";

export interface Props {
  title: string;
  description?: string;
}

const { title, description = "Simple, clean recipes without the cruft" } =
  Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>

    <!-- Preload key fonts for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-white text-gray-900 font-sans leading-relaxed">
    <div
      id="skip-link"
      class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded-md z-50"
    >
      <a href="#main-content">Skip to main content</a>
    </div>

    <header role="banner" class="bg-white border-b border-gray-200 print:hidden">
      <div class="max-w-4xl mx-auto px-4 py-6">
        <nav
          role="navigation"
          aria-label="Main navigation"
          class="flex items-center justify-between"
        >
          <h1 class="text-2xl font-semibold text-gray-900">
            <a
              href="/"
              class="hover:text-blue-600 focus:text-blue-600 focus:outline-none focus:underline"
            >
              Simple Recipes
            </a>
          </h1>
          <div class="flex items-center space-x-6">
            <a
              href="/tags"
              class="text-sm font-medium text-gray-600 hover:text-gray-900 focus:outline-none focus:underline"
            >
              Browse Tags
            </a>
            <a
              href="/about"
              class="text-sm font-medium text-gray-600 hover:text-gray-900 focus:outline-none focus:underline"
            >
              About
            </a>
          </div>
        </nav>
      </div>
    </header>

    <main id="main-content" role="main" class="max-w-4xl mx-auto px-4 py-8 print:px-0 print:py-0 print:max-w-none">
      <slot />
    </main>

    <footer
      role="contentinfo"
      class="bg-gray-50 border-t border-gray-200 mt-16 print:hidden"
    >
      <div class="max-w-4xl mx-auto px-4 py-8">
        <p class="text-sm text-gray-600 text-center">
          Simple Recipes - Clean, accessible cooking instructions
        </p>
      </div>
    </footer>
  </body>
</html>

<style>
  body {
    font-family:
      "Inter",
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      sans-serif;
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: 0.5rem 1rem;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Print Styles */
  @media print {
    * {
      -webkit-print-color-adjust: exact !important;
      color-adjust: exact !important;
    }
    
    body {
      font-size: 12pt;
      line-height: 1.4;
      color: #000;
      background: white;
    }
    
    /* Hide skip link in print */
    #skip-link {
      display: none !important;
    }
    
    /* Ensure good page breaks */
    h1, h2, h3 {
      page-break-after: avoid;
      page-break-inside: avoid;
    }
    
    ul, ol {
      page-break-inside: avoid;
    }
    
    li {
      page-break-inside: avoid;
      margin-bottom: 2pt;
    }
    
    /* Recipe-specific print styles */
    .recipe-title {
      font-size: 24pt;
      font-weight: bold;
      margin-bottom: 12pt;
    }
    
    .recipe-meta {
      font-size: 10pt;
      margin-bottom: 16pt;
      color: #666;
    }
    
    .recipe-section h2 {
      font-size: 16pt;
      font-weight: 600;
      margin-top: 20pt;
      margin-bottom: 8pt;
      border-bottom: 1pt solid #ccc;
      padding-bottom: 4pt;
    }
    
    .ingredients-list li {
      margin-bottom: 4pt;
      padding: 2pt 0;
    }
    
    .instructions-list li {
      margin-bottom: 8pt;
      padding: 4pt 0;
    }
    
    /* Remove background colors and shadows for print */
    .bg-gray-50,
    .bg-blue-100,
    .bg-green-100,
    .bg-orange-100,
    .bg-yellow-50 {
      background: white !important;
      border: 1pt solid #ccc !important;
    }
    
    /* Simplify borders and spacing */
    .border-l-4 {
      border-left: 2pt solid #ccc !important;
    }
    
    /* Ensure sufficient contrast */
    .text-gray-600,
    .text-gray-700 {
      color: #333 !important;
    }
    
    .text-blue-800,
    .text-green-800,
    .text-orange-800 {
      color: #000 !important;
    }
    
    /* Remove rounded corners */
    .rounded-lg,
    .rounded-full {
      border-radius: 0 !important;
    }
    
    /* Simplify spacing for print */
    .gap-6 {
      gap: 8pt !important;
    }
    
    .mb-8 {
      margin-bottom: 16pt !important;
    }
    
    .mb-4 {
      margin-bottom: 8pt !important;
    }
    
    .p-4 {
      padding: 8pt !important;
    }
    
    .p-3 {
      padding: 6pt !important;
    }
  }
</style>
